#!/bin/sh -ue
#.help
# % [TARGET [OPT..] [ARG..]]
#
# Run Pyr.  If TARGET is "-" or omitted, use custom path and module.  All options are passed unchanged to Pyr.

is_interact() {
    while [ $# -gt 0 ]; do
        case "$1" in
            --) shift; break ;;
            --*) shift ;;
            -?*) shift ;;
            *) break ;;
        esac
    done
    [ $# = 0 ] || [ x"$1" = x- ]
}
if is_interact "$@"; then
    self="$(readlink -f -- "$0")"

    ### Modify these variables:
    # path to Pyr
    pyr="${self%/*/*}/cmd/pyr"
    # directory containing interact_main (and any others desired) added to sys.path
    interact_path="$self-lib"
    # entry point
    interact_main="user_console"
    ###

    set -- -a"$0" -p"$interact_path" --interact="$interact_main" "$@"
fi
exec "$pyr" "$@"
